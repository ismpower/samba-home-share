[global]
# Server identification - will be set dynamically
workgroup = WORKGROUP
server string = Home File Server
netbios name = file-server

# Security settings
security = user
map to guest = Bad User

# Only allow connections from safe IP range (excludes control devices and house network)
hosts allow = 10.10.10.50/255.255.255.224 127.0.0.1
hosts deny = ALL

# Network settings
bind interfaces only = yes
interfaces = eth0

# Logging
log file = /var/log/samba/log.%m
max log size = 1000
log level = 2

# Performance settings
socket options = TCP_NODELAY IPTOS_LOWDELAY SO_RCVBUF=65536 SO_SNDBUF=65536
read raw = yes
write raw = yes
max xmit = 65535
dead time = 15

# Dynamic home share - path will be set when container starts
[home]
comment = User Home Directory
path = /shared-home
browseable = yes
writable = yes
guest ok = yes
read only = no
create mask = 0755
directory mask = 0755